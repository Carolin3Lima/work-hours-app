{"ast":null,"code":"var _jsxFileName = \"/home/caroline/Desktop/work-hours-app/frontend/src/components/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport InputMask from \"react-input-mask\";\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const [input, setInput] = useState({\n    today: '',\n    start: '',\n    end: '',\n    lunchStart: '',\n    lunchEnd: '',\n    hours: ''\n  });\n  const [refresh, setRefresh] = useState([{\n    shouldRefresh: false\n  }]);\n  const [workloads, setWorkloads] = useState([{\n    today: '',\n    start: '',\n    end: '',\n    lunchStart: '',\n    lunchEnd: '',\n    hours: ''\n  }]);\n  useEffect(() => {\n    fetch(\"work_hours:3001/search\").then(async res => {\n      if (res.ok) {\n        const jsonRes = await res.json();\n        setWorkloads(jsonRes);\n        return jsonRes;\n      }\n    });\n  }, [refresh.shouldRefresh]);\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setRefresh({\n      shouldRefresh: false\n    });\n    setInput(prevInput => {\n      return { ...prevInput,\n        [name]: value\n      };\n    });\n  }\n\n  function setWorkload(time1, time2, time3, time4) {\n    const hour1 = moment.duration(time1);\n    const hour2 = moment.duration(time2);\n    const joinHours1 = hour2.subtract(hour1);\n    const hour3 = moment.duration(time3);\n    const hour4 = moment.duration(time4);\n    const joinHours2 = hour4.subtract(hour3);\n    const totalHours = joinHours1.add(joinHours2);\n    const total = totalHours.hours() + ':' + totalHours.minutes();\n    const toMoment = moment(total, 'HH:mm');\n    return moment(toMoment).format(\"HH:mm\");\n  }\n\n  function handleClick(event) {\n    event.preventDefault();\n    setWorkload(input.start, input.lunchStart, input.lunchEnd, input.end);\n    const newWorkload = {\n      today: new Date().toLocaleDateString('pt-br'),\n      start: input.start,\n      end: input.end,\n      lunchStart: input.lunchStart,\n      lunchEnd: input.lunchEnd,\n      hours: setWorkload(input.start, input.lunchStart, input.lunchEnd, input.end)\n    };\n    axios.post('work_hours:3001/', newWorkload);\n    setRefresh({\n      shouldRefresh: true\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center pb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Working Hours Control\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center pb-5\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Register your workload of today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Arrival Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputMask, {\n          mask: \"99:99\",\n          maskChar: \" \",\n          onChange: handleChange,\n          value: input.start,\n          name: \"start\",\n          className: \"form-control\",\n          placeholder: \"ex: 08:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Lunch Time (start)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputMask, {\n          mask: \"99:99\",\n          maskChar: \" \",\n          onChange: handleChange,\n          value: input.lunchStart,\n          name: \"lunchStart\",\n          className: \"form-control\",\n          placeholder: \"ex: 12:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Lunch Time (end)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputMask, {\n          mask: \"99:99\",\n          maskChar: \" \",\n          onChange: handleChange,\n          value: input.lunchEnd,\n          name: \"lunchEnd\",\n          className: \"form-control\",\n          placeholder: \"ex: 13:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group col-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Exit Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputMask, {\n          mask: \"99:99\",\n          maskChar: \" \",\n          onChange: handleChange,\n          value: input.end,\n          name: \"end\",\n          className: \"form-control\",\n          placeholder: \"ex: 18:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-12 d-flex justify-content-center pt-4 pb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleClick,\n            className: \"btn btn-block btn-info\",\n            children: \"Send Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Arrival\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Lunch(start)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Lunch(end)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Exit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              scope: \"col\",\n              children: \"Workload\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: workloads.map((workload, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: workload.today\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: workload.start\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: workload.end\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: workload.lunchStart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: workload.lunchEnd\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: workload.hours\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 10\n  }, this);\n}\n\n_s(Home, \"0pwohty8sKJTM3tsFjWV1teERV8=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/home/caroline/Desktop/work-hours-app/frontend/src/components/Home.jsx"],"names":["React","useState","useEffect","axios","InputMask","moment","Home","input","setInput","today","start","end","lunchStart","lunchEnd","hours","refresh","setRefresh","shouldRefresh","workloads","setWorkloads","fetch","then","res","ok","jsonRes","json","handleChange","event","name","value","target","prevInput","setWorkload","time1","time2","time3","time4","hour1","duration","hour2","joinHours1","subtract","hour3","hour4","joinHours2","totalHours","add","total","minutes","toMoment","format","handleClick","preventDefault","newWorkload","Date","toLocaleDateString","post","map","workload","index"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport InputMask from \"react-input-mask\";\nimport moment from 'moment';\n\nfunction Home() {\n\n  const [input, setInput] = useState({\n    today: '',\n    start: '',\n    end: '',\n    lunchStart: '',\n    lunchEnd:'',\n    hours: '',\n  })\n\n  const [refresh, setRefresh] = useState([{\n    shouldRefresh:false\n  }])  \n\n\n  const [workloads, setWorkloads] = useState([{\n    today: '',\n    start: '',\n    end: '',\n    lunchStart: '',\n    lunchEnd:'',\n    hours: '',\n  }])\n\n  useEffect(() => {\n    fetch(\"work_hours:3001/search\").then(async res => {\n      if(res.ok) {\n        const jsonRes = await res.json()\n        setWorkloads(jsonRes)\n        return jsonRes\n      }\n    });\n  }, [refresh.shouldRefresh])\n\n  function handleChange(event) {\n    const {name, value} = event.target;\n    setRefresh({shouldRefresh:false})\n    setInput(prevInput => {\n      return {\n        ...prevInput,\n        [name]: value\n      }\n    })\n  }\n\n  function setWorkload(time1, time2, time3, time4){\n      const hour1 = moment.duration(time1);\n      const hour2 = moment.duration(time2);\n      const joinHours1 =  hour2.subtract(hour1)\n      const hour3 = moment.duration(time3);\n      const hour4 = moment.duration(time4);\n      const joinHours2 =  hour4.subtract(hour3)\n      const totalHours = joinHours1.add(joinHours2)\n      const total =  totalHours.hours() + ':' + totalHours.minutes()\n      const toMoment = moment(total, 'HH:mm')\n      return moment(toMoment).format(\"HH:mm\")\n  }\n\n  function handleClick(event) {\n    event.preventDefault();\n    setWorkload(input.start, input.lunchStart, input.lunchEnd, input.end)\n    const newWorkload = {\n      today: new Date().toLocaleDateString('pt-br'),\n      start: input.start,\n      end: input.end,\n      lunchStart: input.lunchStart,\n      lunchEnd: input.lunchEnd,\n      hours: setWorkload(input.start, input.lunchStart, input.lunchEnd, input.end)\n    }\n    axios.post('work_hours:3001/', newWorkload)\n    setRefresh({shouldRefresh:true})\n  }\n\n  return <div className=\"p-5\">\n      <div className=\"d-flex justify-content-center pb-4\">\n        <h1>Working Hours Control</h1>\n      </div>\n      <div className=\"d-flex justify-content-center pb-5\">\n        <h2>Register your workload of today</h2>\n      </div>\n      <form className=\"row\">\n        <div className='form-group col-3'>\n          <h4>Arrival Time</h4>\n          <InputMask mask=\"99:99\" maskChar=\" \" onChange={handleChange} value={input.start} name=\"start\" className='form-control' placeholder=\"ex: 08:00\" />\n        </div>\n        <div className='form-group col-3'>\n          <h4>Lunch Time (start)</h4>\n          <InputMask mask=\"99:99\" maskChar=\" \" onChange={handleChange} value={input.lunchStart} name=\"lunchStart\" className='form-control' placeholder=\"ex: 12:00\" />\n        </div>\n        <div className='form-group col-3'>\n          <h4>Lunch Time (end)</h4>\n          <InputMask mask=\"99:99\" maskChar=\" \" onChange={handleChange} value={input.lunchEnd} name=\"lunchEnd\" className='form-control' placeholder=\"ex: 13:00\" />\n        </div>\n        <div className='form-group col-3'>\n          <h4>Exit Time</h4>\n          <InputMask mask=\"99:99\" maskChar=\" \" onChange={handleChange} value={input.end} name=\"end\" className='form-control' placeholder=\"ex: 18:00\" />\n        </div>\n        <div className=\"col-12 d-flex justify-content-center pt-4 pb-4\">\n          <div className=\"col-4\">\n            <button onClick={handleClick} className=\"btn btn-block btn-info\">Send Hours</button>\n          </div>\n        </div>\n      </form>\n      <div className=\"pt-4\">\n        <table className=\"table table-striped\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Day</th>\n              <th scope=\"col\">Arrival</th>\n              <th scope=\"col\">Lunch(start)</th>\n              <th scope=\"col\">Lunch(end)</th>\n              <th scope=\"col\">Exit</th>\n              <th scope=\"col\">Workload</th>\n            </tr>\n          </thead>\n          <tbody>\n          {workloads.map((workload, index) =>\n            <tr key={index}>\n              <td>{workload.today}</td>\n              <td>{workload.start}</td>\n              <td>{workload.end}</td>\n              <td>{workload.lunchStart}</td>\n              <td>{workload.lunchEnd}</td>\n              <td>{workload.hours}</td>\n            </tr>\n          )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}